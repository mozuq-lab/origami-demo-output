# F-005 アイコン設定 境界値分析

## 基本情報

| 項目 | 内容 |
|------|------|
| 機能ID | F-005 |
| 機能名 | アイコン設定 |
| 入力ファイル | 02_動作仕様.md |

---

## 境界値分析対象パラメータ

### BV-001: ファイルサイズ

最も明確な境界値は「10KB以下」という制約です。

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-001-01 | ファイルサイズ | 0KB（空ファイル） | 🟡 アップロード不可またはエラー | 🟡 | N-001-01 |
| BV-001-02 | ファイルサイズ | 1KB（小さな画像） | アップロード成功 | 🟢 | M-003-01 |
| BV-001-03 | ファイルサイズ | 9KB（10KB未満） | アップロード成功 | 🟢 | M-003-01 |
| BV-001-04 | ファイルサイズ | 10KB（ちょうど境界） | 🟡 アップロード成功（10KB以下のため） | 🟡 | M-003-01 |
| BV-001-05 | ファイルサイズ | 10KB + 1byte（境界超過） | アップロード失敗（エラー表示） | 🟢 | N-001-01, N-001-02 |
| BV-001-06 | ファイルサイズ | 11KB（境界超過） | アップロード失敗（エラー表示） | 🟢 | N-001-01, N-001-02 |
| BV-001-07 | ファイルサイズ | 100KB（大幅超過） | アップロード失敗（エラー表示） | 🟢 | N-001-01, N-001-02 |

### BV-002: ファイル形式

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-002-01 | ファイル形式 | JPEG画像（.jpg） | アップロード成功 | 🟡 | M-003-01 |
| BV-002-02 | ファイル形式 | PNG画像（.png） | アップロード成功 | 🟡 | M-003-01 |
| BV-002-03 | ファイル形式 | GIF画像（.gif） | 🟡 アップロード成功または不可（GIFサポート不明） | 🟡 | M-003-01 |
| BV-002-04 | ファイル形式 | テキストファイル（.txt） | アップロード失敗（画像以外は不可） | 🟡 | N-002-01 |
| BV-002-05 | ファイル形式 | PDFファイル（.pdf） | アップロード失敗（画像以外は不可） | 🟡 | N-002-01 |
| BV-002-06 | ファイル形式 | 拡張子を偽装したファイル（.jpg として保存したテキスト） | 🟡 バリデーションエラーまたはアップロード成功 | 🟡 | N-002-01 |

### BV-003: 拡大・縮小スライダー

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-003-01 | スライダー値 | 最小値（最も縮小） | 🟡 プレビューが最小表示になる | 🟡 | M-004-02 |
| BV-003-02 | スライダー値 | 初期値（デフォルト位置） | 🟡 標準サイズで表示される | 🟡 | M-004-01 |
| BV-003-03 | スライダー値 | 最大値（最も拡大） | 🟡 プレビューが最大表示になる | 🟡 | M-004-01 |

### BV-004: 枠線の色選択

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-004-01 | 枠線の色 | 最初の選択肢 | 選択した色の枠線がプレビューに反映される | 🟡 | M-005-01, M-005-02 |
| BV-004-02 | 枠線の色 | 最後の選択肢 | 選択した色の枠線がプレビューに反映される | 🟡 | M-005-01, M-005-02 |

### BV-005: ユーザー種別

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-005-01 | ユーザー種別 | 新規登録ユーザー（ログイン済み） | アイコン設定ページにアクセスできる | 🟢 | M-001-02 |
| BV-005-02 | ユーザー種別 | 事前登録テストユーザー | マイページにアイコン設定リンクが表示されない（間接的なアクセス防止） | 🟢 | N-003-01 |
| BV-005-03 | ユーザー種別 | 未ログイン | 🟡 アクセス制限（リダイレクト等）と推測 | 🟡 | N-003-02 |

---

## 同値分割

### EP-001: ファイルサイズの同値クラス

| クラス | 説明 | 代表値 | 期待結果 | 信頼性 |
|--------|------|--------|----------|--------|
| 有効サイズ | 10KB以下の画像 | 5KBのJPEG | アップロード成功 | 🟢 |
| 境界値（10KB） | ちょうど10KB | 10KB画像 | 🟡 成功と推測 | 🟡 |
| 超過サイズ | 10KB超の画像 | 20KBのJPEG | アップロード失敗 | 🟢 |

### EP-002: ファイル形式の同値クラス

| クラス | 説明 | 代表値 | 期待結果 | 信頼性 |
|--------|------|--------|----------|--------|
| 画像ファイル | JPEG/PNG等 | test.jpg | アップロード成功 | 🟡 |
| 非画像ファイル | テキスト・PDF等 | test.txt | アップロード失敗 | 🟡 |

---

## 信号サマリー

| 信号 | 件数 | 内容 |
|------|------|------|
| 🟢 | 8 | ファイルサイズ1KB・9KB有効、10KB+超過3パターン、新規ユーザーアクセス可、事前ユーザーアクセス不可 |
| 🟡 | 16 | 空ファイル、10KB境界値、ファイル形式6パターン、スライダー3値、枠線色2値、未ログイン、同値クラス4件 |
| 🔴 | 0 | - |

---

## 備考

- ファイルサイズ境界（10KB）は明示的に記載されているため、最重要な境界値
- スライダーの具体的な値域（min/max/step）は仕様書に記載なし → 🟡全件
- ファイル形式の許容範囲は仕様書に明示なし（「画像ファイル」のみ）→ 🟡
- 「10KBちょうど」が有効か無効か（「以下」は含む）は境界の解釈として🟡
