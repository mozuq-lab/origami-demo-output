# F-007 プラン一覧表示 テストケース

## 基本情報

| 項目 | 内容 |
|------|------|
| 機能ID | F-007 |
| 機能名 | プラン一覧表示 |
| 入力ファイル | 01_機能詳細.md / 02_動作仕様.md / 03_境界値分析.md |

---

## テストケース一覧

### TC-007-01: ページタイトルの確認

| 項目 | 内容 |
|------|------|
| テストID | TC-007-01 |
| テスト種別 | 正常系 |
| 対応仕様 | M-001-01 |
| 信号 | 🟢 |

**Given（前提条件）:**

- ブラウザでプラン一覧ページにアクセスしている

**When（実行条件）:**

1. plans.html を表示する

**Then（期待結果）:**

- [ ] ページタイトルが「宿泊プラン一覧 | HOTEL PLANISPHERE - テスト自動化練習サイト」であること

---

### TC-007-02: Ajaxローディング表示の確認

| 項目 | 内容 |
|------|------|
| テストID | TC-007-02 |
| テスト種別 | 正常系 |
| 対応仕様 | M-001-02, M-001-03, M-001-04 |
| 境界値 | BV-004-01, BV-004-02 |
| 信号 | 🟢 |

**Given（前提条件）:**

- ブラウザでプラン一覧ページにアクセスしようとしている

**When（実行条件）:**

1. plans.html を読み込む

**Then（期待結果）:**

- [ ] データ読み込み中に「Loading...」が表示されること
- [ ] データ読み込み完了後にプランカードが表示されること
- [ ] 「Loading...」がプランカードに置き換わること

---

### TC-007-03: 未ログイン時のナビゲーション確認

| 項目 | 内容 |
|------|------|
| テストID | TC-007-03 |
| テスト種別 | 正常系 |
| 対応仕様 | M-002-01〜M-002-04 |
| 信号 | 🟢 |

**Given（前提条件）:**

- ログインしていない状態でプラン一覧ページを表示している

**When（実行条件）:**

1. ナビゲーションメニューを確認する

**Then（期待結果）:**

- [ ] 「ホーム」リンクが表示されること
- [ ] 「宿泊予約」リンクが表示されること
- [ ] 「会員登録」リンクが表示されること
- [ ] 「ログイン」リンクが表示されること
- [ ] 「マイページ」リンクが表示されないこと
- [ ] 「ログアウト」リンクが表示されないこと

---

### TC-007-04: ログイン時のナビゲーション確認

| 項目 | 内容 |
|------|------|
| テストID | TC-007-04 |
| テスト種別 | 正常系 |
| 対応仕様 | M-003-01〜M-003-04 |
| 信号 | 🟢 |

**Given（前提条件）:**

- 一般会員（sakura等）としてログイン済みでプラン一覧ページを表示している

**When（実行条件）:**

1. ナビゲーションメニューを確認する

**Then（期待結果）:**

- [ ] 「ホーム」リンクが表示されること
- [ ] 「宿泊予約」リンクが表示されること
- [ ] 「マイページ」リンクが表示されること
- [ ] 「ログアウト」リンクが表示されること
- [ ] 「会員登録」リンクが表示されないこと
- [ ] 「ログイン」リンクが表示されないこと

---

### TC-007-05: 未ログイン時に6件の公開プランが表示されること

| 項目 | 内容 |
|------|------|
| テストID | TC-007-05 |
| テスト種別 | 正常系 |
| 対応仕様 | M-004-01〜M-004-07 |
| 境界値 | BV-001-01, BV-005-01 |
| 信号 | 🟢 |

**Given（前提条件）:**

- ログインしていない状態である

**When（実行条件）:**

1. plans.html を表示する

**Then（期待結果）:**

- [ ] プランカードが6件表示されること
- [ ] 「素泊まり」が表示されること
- [ ] 「出張ビジネスプラン」が表示されること
- [ ] 「エステ・マッサージプラン」が表示されること
- [ ] 「貸し切り露天風呂プラン」が表示されること
- [ ] 「カップル限定プラン」が表示されること
- [ ] 「テーマパーク優待プラン」が表示されること

---

### TC-007-06: 未ログイン時に会員限定プランが表示されないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-007-06 |
| テスト種別 | 異常系（アクセス制限） |
| 対応仕様 | N-001-02, N-001-03 |
| 境界値 | BV-002-01, BV-002-04 |
| 信号 | 🟢 |

**Given（前提条件）:**

- ログインしていない状態である

**When（実行条件）:**

1. plans.html を表示する

**Then（期待結果）:**

- [ ] 「ディナー付きプラン」が表示されないこと
- [ ] 「お得なプラン」が表示されないこと
- [ ] 「プレミアムプラン」が表示されないこと
- [ ] 「お得な特典付きプラン」（id=0）が表示されないこと

---

### TC-007-07: 一般会員ログイン時に8件のプランが表示されること

| 項目 | 内容 |
|------|------|
| テストID | TC-007-07 |
| テスト種別 | 正常系 |
| 対応仕様 | M-005-01〜M-005-03 |
| 境界値 | BV-001-02, BV-005-02 |
| 信号 | 🟢 |

**Given（前提条件）:**

- 一般会員（sakura: sakura@example.com / pass1234 または yoshiki: yoshiki@example.com / pass-pass）としてログイン済みである

**When（実行条件）:**

1. plans.html を表示する

**Then（期待結果）:**

- [ ] プランカードが8件表示されること
- [ ] 「ディナー付きプラン」が表示されること（「会員限定」バッジ付き）
- [ ] 「お得なプラン」が表示されること（「会員限定」バッジ付き）
- [ ] 「プレミアムプラン」が表示されないこと

---

### TC-007-08: プレミアム会員ログイン時に9件のプランが表示されること

| 項目 | 内容 |
|------|------|
| テストID | TC-007-08 |
| テスト種別 | 正常系 |
| 対応仕様 | M-006-01, M-006-02 |
| 境界値 | BV-001-03, BV-005-03 |
| 信号 | 🟢 |

**Given（前提条件）:**

- プレミアム会員（ichiro: ichiro@example.com / password または jun: jun@example.com / pa55w0rd!）としてログイン済みである

**When（実行条件）:**

1. plans.html を表示する

**Then（期待結果）:**

- [ ] プランカードが9件表示されること
- [ ] 「プレミアムプラン」が表示されること（「❤️プレミアム会員限定❤️」バッジ付き）
- [ ] 「ディナー付きプラン」が表示されること（「会員限定」バッジ付き）
- [ ] 「お得なプラン」が表示されること（「会員限定」バッジ付き）

---

### TC-007-09: 一般会員時にプレミアム限定プランが表示されないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-007-09 |
| テスト種別 | 異常系（アクセス制限） |
| 対応仕様 | N-001-04 |
| 境界値 | BV-002-02 |
| 信号 | 🟢 |

**Given（前提条件）:**

- 一般会員（sakura等）としてログイン済みである

**When（実行条件）:**

1. plans.html を表示する

**Then（期待結果）:**

- [ ] 「プレミアムプラン」が表示されないこと

---

### TC-007-10: id=0のプランが表示されないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-007-10 |
| テスト種別 | 異常系（非表示確認） |
| 対応仕様 | N-001-01 |
| 境界値 | BV-003-01 |
| 信号 | 🟢 |

**Given（前提条件）:**

- プレミアム会員としてログイン済みである（最大表示条件）

**When（実行条件）:**

1. plans.html を表示する

**Then（期待結果）:**

- [ ] 「お得な特典付きプラン」（id=0）が表示されないこと
- [ ] 表示されるプランは9件のみであること

---

### TC-007-11: プランカードの表示要素確認

| 項目 | 内容 |
|------|------|
| テストID | TC-007-11 |
| テスト種別 | 正常系 |
| 対応仕様 | M-007-01〜M-007-05 |
| 信号 | 🟢 |

**Given（前提条件）:**

- 未ログイン状態でプラン一覧ページを表示している（公開プランで確認）

**When（実行条件）:**

1. 「素泊まり」プランカードの要素を確認する

**Then（期待結果）:**

- [ ] プラン名「素泊まり」が表示されること
- [ ] 「大人1名 ¥5,500円」という料金が表示されること
- [ ] 「1名様から」という最小利用人数が表示されること
- [ ] 客室タイプ「シングル」が表示されること
- [ ] 「このプランで予約」ボタンが表示されること

---

### TC-007-12: 会員限定バッジの表示確認

| 項目 | 内容 |
|------|------|
| テストID | TC-007-12 |
| テスト種別 | 正常系 |
| 対応仕様 | M-008-01, M-008-02, M-008-03 |
| 信号 | 🟢 |

**Given（前提条件）:**

- プレミアム会員としてログイン済みでプラン一覧を表示している

**When（実行条件）:**

1. 各プランカードのヘッダーを確認する

**Then（期待結果）:**

- [ ] 「ディナー付きプラン」に「会員限定」バッジが表示されること
- [ ] 「お得なプラン」に「会員限定」バッジが表示されること
- [ ] 「プレミアムプラン」に「❤️プレミアム会員限定❤️」バッジが表示されること
- [ ] 「素泊まり」等の制限なしプランにバッジが表示されないこと

---

### TC-007-13: 予約ボタンで新しいタブが開くこと

| 項目 | 内容 |
|------|------|
| テストID | TC-007-13 |
| テスト種別 | 正常系 |
| 対応仕様 | M-009-01 |
| 信号 | 🟢 |

**Given（前提条件）:**

- 未ログイン状態でプラン一覧ページを表示している
- 「素泊まり」（id=4）のプランカードが表示されている

**When（実行条件）:**

1. 「素泊まり」の「このプランで予約」ボタンをクリックする

**Then（期待結果）:**

- [ ] 新しいタブが開くこと
- [ ] 新しいタブのURLが `reserve.html?plan-id=4` を含むこと
- [ ] 元のプラン一覧タブが引き続き表示されること

---

### TC-007-14: ホームリンクからトップページへ遷移できること

| 項目 | 内容 |
|------|------|
| テストID | TC-007-14 |
| テスト種別 | 正常系 |
| 対応仕様 | M-010-01 |
| 信号 | 🟢 |

**Given（前提条件）:**

- プラン一覧ページを表示している

**When（実行条件）:**

1. ナビゲーションの「ホーム」リンクをクリックする

**Then（期待結果）:**

- [ ] トップページ（index.html）に遷移すること

---

### TC-007-15: ログインと未ログインでのプラン数の差異確認

| 項目 | 内容 |
|------|------|
| テストID | TC-007-15 |
| テスト種別 | 正常系（比較検証） |
| 対応仕様 | M-004-07, M-005-03, M-006-02 |
| 境界値 | BV-001-01〜BV-001-03 |
| 信号 | 🟢 |

**Given（前提条件）:**

- 同一ブラウザで3状態（未ログイン/一般会員/プレミアム会員）を切り替えてテストできる環境がある

**When（実行条件）:**

1. 未ログイン状態でplans.htmlを開き、プラン数を確認する
2. 一般会員（sakura）でログインしてplans.htmlを開き、プラン数を確認する
3. ログアウトしてプレミアム会員（ichiro）でログインしてplans.htmlを開き、プラン数を確認する

**Then（期待結果）:**

- [ ] 未ログイン時: 6件のプランが表示されること
- [ ] 一般会員時: 8件のプランが表示されること（未ログインより2件増加）
- [ ] プレミアム会員時: 9件のプランが表示されること（一般会員より1件増加）

---

## 信号サマリー

| 信号 | 件数 | 内容 |
|------|------|------|
| 🟢 | 15 | 全テストケース（ページタイトル、Ajaxローディング、ナビゲーション2パターン、未ログインプラン表示6件、未ログイン非表示確認、一般会員8件、プレミアム会員9件、プレミアム非表示確認、id=0非表示、プランカード要素、バッジ表示、予約ボタン新タブ、ホームリンク遷移、3状態比較） |
| 🟡 | 0 | - |
| 🔴 | 0 | - |

---

## テストケース数

**合計: 15件（🟢: 15件 / 🟡: 0件 / 🔴: 0件）**
