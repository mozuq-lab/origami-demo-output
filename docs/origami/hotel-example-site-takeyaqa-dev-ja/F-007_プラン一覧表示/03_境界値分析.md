# F-007 プラン一覧表示 境界値分析

## 基本情報

| 項目 | 内容 |
|------|------|
| 機能ID | F-007 |
| 機能名 | プラン一覧表示 |
| 入力ファイル | 02_動作仕様.md |

---

## 境界値分析対象パラメータ

### BV-001: ユーザー種別（プラン表示数の境界）

ユーザー種別によって表示プラン数が変化する。境界は「未ログイン（6件）/一般会員（8件）/プレミアム会員（9件）」の三値。

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-001-01 | ユーザー種別 | 未ログイン | 6件のプランが表示（id:4,5,6,7,8,9） | 🟢 | M-004-01〜M-004-07 |
| BV-001-02 | ユーザー種別 | 一般会員（ichiro以外の一般会員、またはsakura/yoshiki） | 8件のプランが表示（id:2,3,4,5,6,7,8,9） | 🟢 | M-005-01〜M-005-03 |
| BV-001-03 | ユーザー種別 | プレミアム会員（ichiro または jun） | 9件のプランが表示（id:1,2,3,4,5,6,7,8,9） | 🟢 | M-006-01〜M-006-02 |

### BV-002: 表示/非表示プランの境界

表示制限（only属性）とユーザー種別の組み合わせによる境界。

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-002-01 | プラン表示制限 × ユーザー | プレミアム会員限定プラン（id=1）× 未ログイン | 非表示 | 🟢 | N-001-03 |
| BV-002-02 | プラン表示制限 × ユーザー | プレミアム会員限定プラン（id=1）× 一般会員 | 非表示 | 🟢 | N-001-04 |
| BV-002-03 | プラン表示制限 × ユーザー | プレミアム会員限定プラン（id=1）× プレミアム会員 | 表示 | 🟢 | M-006-01 |
| BV-002-04 | プラン表示制限 × ユーザー | 会員限定プラン（id=2,3）× 未ログイン | 非表示 | 🟢 | N-001-02 |
| BV-002-05 | プラン表示制限 × ユーザー | 会員限定プラン（id=2,3）× 一般会員 | 表示 | 🟢 | M-005-01, M-005-02 |
| BV-002-06 | プラン表示制限 × ユーザー | 全公開プラン（id=4〜9）× 未ログイン | 表示 | 🟢 | M-004-01〜M-004-06 |

### BV-003: 特殊なプランID（id=0の境界）

id=0は data に存在するが、コードロジック（`data[i].id !== 0`）により常に非表示。

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-003-01 | プランID | id=0（お得な特典付きプラン） | いかなるユーザーにも表示されない | 🟢 | N-001-01 |
| BV-003-02 | プランID | id=1（プレミアムプランの最小有効id） | プレミアム会員のみ表示 | 🟢 | M-006-01 |
| BV-003-03 | プランID | id=9（最大有効id） | 全ユーザーに表示（全公開プラン） | 🟢 | M-004-06 |

### BV-004: Ajaxデータ読み込みの状態境界

読み込み開始時（Loading表示）と完了時（プランカード表示）の状態境界。

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-004-01 | Ajaxロード状態 | データ取得中（Loading表示中） | 「Loading...」が表示されること | 🟢 | M-001-03 |
| BV-004-02 | Ajaxロード状態 | データ取得直後（完了時） | プランカードが表示され「Loading...」が消えること | 🟢 | M-001-04 |
| BV-004-03 | Ajaxロード状態 | データ取得失敗時 | 🟡 エラー表示または「Loading...」が残る（ハンドラ未実装のため不明） | 🟡 | N-002-01（関連） |

### BV-005: プランカード表示件数の境界

各ユーザー種別での表示件数の境界値確認。

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-005-01 | 未ログイン時プラン表示数 | 6件（ちょうど） | プランカードが6枚表示されること | 🟢 | M-004-07 |
| BV-005-02 | 一般会員時プラン表示数 | 8件（ちょうど） | プランカードが8枚表示されること | 🟢 | M-005-03 |
| BV-005-03 | プレミアム会員時プラン表示数 | 9件（ちょうど） | プランカードが9枚表示されること | 🟢 | M-006-02 |

---

## 同値分割

### EP-001: ユーザー種別の同値クラス

| クラス | 説明 | 代表値 | 期待プラン数 | 信頼性 |
|--------|------|--------|------------|--------|
| 未ログイン | セッションなし | 未認証状態 | 6件 | 🟢 |
| 一般会員 | member会員ランク | sakura または yoshiki | 8件 | 🟢 |
| プレミアム会員 | premium会員ランク | ichiro または jun | 9件 | 🟢 |

### EP-002: プラン表示制限の同値クラス

| クラス | 説明 | 代表プラン | 信頼性 |
|--------|------|----------|--------|
| 非表示（id=0） | 常に非表示 | id=0 | 🟢 |
| 全公開 | 全ユーザーに表示 | id=4〜9 | 🟢 |
| 会員限定 | ログイン済みのみ表示 | id=2, 3 | 🟢 |
| プレミアム限定 | プレミアム会員のみ表示 | id=1 | 🟢 |

---

## 信号サマリー

| 信号 | 件数 | 内容 |
|------|------|------|
| 🟢 | 20 | ユーザー種別3種、プラン表示制限×ユーザー種別6パターン、特殊ID3件、Ajaxロード状態2件、プラン数3種、同値クラス7件 |
| 🟡 | 1 | Ajaxエラー時の挙動（.failハンドラ未実装のため不明） |
| 🔴 | 0 | - |

---

## 備考

- F-007はプラン一覧の**表示**機能であり、入力パラメータは「ユーザー種別」と「プランID」の2軸のみ
- 数値的な境界値（料金・人数・泊数）は予約入力機能（F-008）での境界値分析対象
- プランデータは静的JSONのため、データ内容そのものはテスト対象外（表示の正確性のみ確認）
