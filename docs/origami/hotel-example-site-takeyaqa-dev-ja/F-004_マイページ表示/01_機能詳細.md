# F-004 マイページ表示 機能詳細

## 基本情報

| 項目 | 内容 |
|------|------|
| 機能ID | F-004 |
| 機能名 | マイページ表示 |
| 対象ページ | mypage.html |
| 入力ソース | https://hotel-example-site.takeyaqa.dev/ja/mypage.html |

---

## 機能概要

ログイン中のユーザーが自身の登録情報を確認できるページ。会員登録時に入力した情報（8項目）を一覧表示する。新規登録ユーザーの場合はアイコン設定リンクおよび退会ボタンも表示される。

---

## 画面構成

### ページタイトル

🟢 「マイページ | HOTEL PLANISPHERE - テスト自動化練習サイト」

### ナビゲーション（ログイン済み時）

🟢 ログイン済み状態でのナビゲーションメニュー:

| メニュー項目 | リンク先 |
|-------------|---------|
| ホーム | トップページ（./index.html） |
| 宿泊予約 | プラン一覧ページ（./plans.html） |
| マイページ | マイページ（./mypage.html） |
| ログアウト | ログアウト処理 |

---

## 表示情報

### ユーザー情報表示項目（8項目）

🟢 以下の8項目がマイページに表示される:

| # | 項目名 | 登録元 | 必須/任意 |
|---|--------|--------|---------|
| 1 | メールアドレス | F-003 会員登録 | 必須 |
| 2 | 氏名 | F-003 会員登録 | 必須 |
| 3 | 会員ランク | F-003 会員登録 | 選択（プレミアム会員/一般会員） |
| 4 | 住所 | F-003 会員登録 | 任意 |
| 5 | 電話番号 | F-003 会員登録 | 任意 |
| 6 | 性別 | F-003 会員登録 | 任意（回答しない/男性/女性/その他） |
| 7 | 生年月日 | F-003 会員登録 | 任意 |
| 8 | お知らせ | F-003 会員登録 | 任意（受け取る/受け取らない） |

🟡 各項目の表示フォーマット（未入力項目の表示方法、日付表示形式等）は仕様書に明示的な記載なし

### 表示データの出所

🟢 表示データは登録時にLocal Storageに保存されたユーザー情報から取得される

---

## ボタン・リンク

### アイコン設定リンク

🟢 「アイコン設定」リンクが存在（./icon.html へのリンク）

| 項目 | 内容 |
|------|------|
| 表示条件 | 🟢 新規登録ユーザーのみ表示（事前登録テストユーザーには表示されない） |
| リンク先 | ./icon.html |

🟢 トップページに「新規登録したユーザの場合アイコン画像の設定と退会（情報削除）ができます」と明記

### 退会ボタン

🟢 「退会する」ボタンが存在

| 項目 | 内容 |
|------|------|
| 表示条件 | 🟢 新規登録ユーザーのみ表示（事前登録テストユーザーには表示されない） |
| 動作 | 退会処理（F-006 退会機能） |

---

## アクセス制御

### ログイン必須

🟡 マイページはログイン後に表示されるページ（機能概要に記載）

| 条件 | 挙動 |
|------|------|
| ログイン済み | マイページを表示 |
| 未ログイン | 🟡 ログインページへのリダイレクトまたはエラー表示（仕様書に明示的な記載なし） |

---

## テストユーザーとの関係

### 事前登録テストユーザー（4名）

🟢 以下の4名のテストユーザーはログインに使用可能：

| メールアドレス | 会員ランク |
|--------------|---------|
| ichiro@example.com | プレミアム会員 |
| sakura@example.com | 一般会員 |
| jun@example.com | プレミアム会員 |
| yoshiki@example.com | 一般会員 |

🟢 これらのユーザーには「アイコン設定」「退会する」が表示されない

### 新規登録ユーザー

🟢 F-003 会員登録で作成したユーザーには「アイコン設定」「退会する」が表示される

🟡 新規登録ユーザーの住所・電話番号・性別・生年月日等の任意項目が未入力の場合の表示内容は仕様書に明示なし

---

## 前提条件

🟢 ログイン済み状態であること（F-001 ログイン機能でログイン済み）

---

## 関連機能

| 機能 | 関係 |
|------|------|
| F-001 ログイン | ログイン後にマイページへ遷移可能 |
| F-002 ログアウト | ナビゲーションのログアウトリンクからログアウト |
| F-003 会員登録 | 登録情報がマイページに表示される |
| F-005 アイコン設定 | マイページのアイコン設定リンクから遷移 |
| F-006 退会 | マイページの退会ボタンから退会処理 |

---

## 信号サマリー

| 信号 | 件数 | 内容 |
|------|-----|------|
| 🟢 | 14 | ページタイトル、ナビゲーション4項目、表示8項目の存在、アイコン設定リンク、退会ボタン、両ボタンの新規ユーザー限定表示条件、Local Storage連携、4名のテストユーザー情報、事前ユーザーへの非表示 |
| 🟡 | 5 | 各項目の表示フォーマット、未入力項目の表示方法、未ログイン時のアクセス動作、新規ユーザーの任意項目未入力時の表示、ログイン必須の実装方式 |
| 🔴 | 0 | - |
