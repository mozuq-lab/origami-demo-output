# F-001 ログイン 動作仕様

## 基本情報

| 項目 | 内容 |
|------|------|
| 機能ID | F-001 |
| 機能名 | ログイン |
| 入力ファイル | 01_機能詳細.md |

---

## Must（できなければならない）

### M-001: 正常ログイン

| No | 項目 | 信頼性 |
|----|------|--------|
| M-001-01 | 登録済みメールアドレスとパスワードの組み合わせでログインできること | 🟢 |
| M-001-02 | ichiro@example.com / password でログインできること | 🟢 |
| M-001-03 | sakura@example.com / pass1234 でログインできること | 🟢 |
| M-001-04 | jun@example.com / pa55w0rd! でログインできること | 🟢 |
| M-001-05 | yoshiki@example.com / pass-pass でログインできること | 🟢 |

### M-002: 認証情報の保存

| No | 項目 | 信頼性 |
|----|------|--------|
| M-002-01 | ログイン成功後、認証情報がCookieに保存されること | 🟢 |
| M-002-02 | Cookieによりログイン状態が維持されること | 🟢 |

### M-003: ナビゲーション表示（未ログイン時）

| No | 項目 | 信頼性 |
|----|------|--------|
| M-003-01 | 未ログイン時にナビゲーションに「ホーム」が表示されること | 🟢 |
| M-003-02 | 未ログイン時にナビゲーションに「宿泊予約」が表示されること | 🟢 |
| M-003-03 | 未ログイン時にナビゲーションに「会員登録」が表示されること | 🟢 |
| M-003-04 | 未ログイン時にナビゲーションに「ログイン」が表示されること | 🟢 |

### M-004: ナビゲーション表示（ログイン後）

| No | 項目 | 信頼性 |
|----|------|--------|
| M-004-01 | ログイン後にナビゲーションに「ホーム」が表示されること | 🟢 |
| M-004-02 | ログイン後にナビゲーションに「宿泊予約」が表示されること | 🟢 |
| M-004-03 | ログイン後にナビゲーションに「マイページ」が表示されること | 🟢 |
| M-004-04 | ログイン後にナビゲーションに「ログアウト」が表示されること | 🟢 |

### M-005: フォーム要素

| No | 項目 | 信頼性 |
|----|------|--------|
| M-005-01 | メールアドレス入力フィールドが表示されること | 🟢 |
| M-005-02 | パスワード入力フィールドが表示されること | 🟢 |
| M-005-03 | ログインボタンが表示されること | 🟢 |
| M-005-04 | パスワードフィールドが入力値をマスク表示すること | 🟡 |

### M-006: ページタイトル

| No | 項目 | 信頼性 |
|----|------|--------|
| M-006-01 | ページタイトルが「ログイン \| HOTEL PLANISPHERE - テスト自動化練習サイト」であること | 🟢 |

### M-007: 画面遷移

| No | 項目 | 信頼性 |
|----|------|--------|
| M-007-01 | ログイン成功後にトップページへ遷移すること | 🟡 |
| M-007-02 | ログイン失敗時にエラーメッセージが表示されること | 🟡 |

### M-008: 会員ランク識別

| No | 項目 | 信頼性 |
|----|------|--------|
| M-008-01 | プレミアム会員でログイン後、プレミアム会員として認識されること | 🟢 |
| M-008-02 | 一般会員でログイン後、一般会員として認識されること | 🟢 |

### M-009: ナビゲーションリンク遷移

| No | 項目 | 信頼性 |
|----|------|--------|
| M-009-01 | 「ホーム」リンクからトップページに遷移できること | 🟢 |
| M-009-02 | 「宿泊予約」リンクからプラン一覧ページに遷移できること | 🟢 |
| M-009-03 | 未ログイン時に「会員登録」リンクから会員登録ページに遷移できること | 🟢 |
| M-009-04 | ログイン後に「マイページ」リンクからマイページに遷移できること | 🟢 |
| M-009-05 | ログイン後に「ログアウト」リンクでログアウト処理が実行されること | 🟢 |

---

## Never（できてはいけない）

### N-001: 認証拒否

| No | 項目 | 信頼性 |
|----|------|--------|
| N-001-01 | 未登録のメールアドレスでログインできてはいけない | 🟡 |
| N-001-02 | 正しいメールアドレスと誤ったパスワードの組み合わせでログインできてはいけない | 🟡 |
| N-001-03 | メールアドレスが空の状態でログインできてはいけない | 🟡 |
| N-001-04 | パスワードが空の状態でログインできてはいけない | 🟡 |

### N-002: ナビゲーション不整合

| No | 項目 | 信頼性 |
|----|------|--------|
| N-002-01 | 未ログイン時に「マイページ」がナビゲーションに表示されてはいけない | 🟢 |
| N-002-02 | 未ログイン時に「ログアウト」がナビゲーションに表示されてはいけない | 🟢 |
| N-002-03 | ログイン後に「会員登録」がナビゲーションに表示されてはいけない | 🟢 |
| N-002-04 | ログイン後に「ログイン」がナビゲーションに表示されてはいけない | 🟢 |

### N-003: セキュリティ

| No | 項目 | 信頼性 |
|----|------|--------|
| N-003-01 | パスワードが画面上に平文で表示されてはいけない | 🟡 |
| N-003-02 | 認証エラー時にパスワードが入力フィールドに残ってはいけない | 🟡 |

---

## 信号サマリー

| 信号 | 件数 | 内容 |
|------|-----|------|
| 🟢 | 26 | 正常ログイン（テストユーザー4名）、Cookie認証、ナビゲーション表示（未ログイン/ログイン後 各4項目）、フォーム要素3項目、ページタイトル、会員ランク識別、ナビゲーション遷移、ナビゲーション不整合 |
| 🟡 | 9 | ログイン成功時遷移先、ログイン失敗時の挙動、パスワードマスク、認証拒否（未登録/誤パスワード/空欄）、パスワード平文表示禁止、認証エラー時パスワード残留 |
| 🔴 | 0 | - |
