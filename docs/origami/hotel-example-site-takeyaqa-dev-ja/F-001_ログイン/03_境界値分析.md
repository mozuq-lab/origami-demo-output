# F-001 ログイン 境界値分析

## 基本情報

| 項目 | 内容 |
|------|------|
| 機能ID | F-001 |
| 機能名 | ログイン |
| 入力ファイル | 02_動作仕様.md |

---

## 境界値分析対象パラメータ

### BV-001: メールアドレス入力

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-001-01 | メールアドレス | 空文字（0文字） | ログイン不可 | 🟡 | N-001-03 |
| BV-001-02 | メールアドレス | 1文字（例: "a"） | ログイン不可（形式不正） | 🟡 | N-001-01 |
| BV-001-03 | メールアドレス | 有効な形式の未登録アドレス（例: "unknown@example.com"） | ログイン不可 | 🟡 | N-001-01 |
| BV-001-04 | メールアドレス | 登録済みアドレス（例: "ichiro@example.com"） | 正しいパスワードとの組み合わせでログイン可能 | 🟢 | M-001-02 |
| BV-001-05 | メールアドレス | @なしの文字列（例: "ichiroexample.com"） | ログイン不可（形式不正） | 🟡 | N-001-01 |
| BV-001-06 | メールアドレス | @のみ（例: "@"） | ログイン不可（形式不正） | 🟡 | N-001-01 |
| BV-001-07 | メールアドレス | ドメインなし（例: "ichiro@"） | ログイン不可（形式不正） | 🟡 | N-001-01 |
| BV-001-08 | メールアドレス | ローカルパートなし（例: "@example.com"） | ログイン不可（形式不正） | 🟡 | N-001-01 |
| BV-001-09 | メールアドレス | 前後に空白を含む（例: " ichiro@example.com "） | 🟡 トリム処理の有無による | 🟡 | M-001-02 |

### BV-002: パスワード入力

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-002-01 | パスワード | 空文字（0文字） | ログイン不可 | 🟡 | N-001-04 |
| BV-002-02 | パスワード | 1文字（例: "a"） | ログイン不可（不一致） | 🟡 | N-001-02 |
| BV-002-03 | パスワード | 登録済みパスワード（例: "password"） | 正しいメールアドレスとの組み合わせでログイン可能 | 🟢 | M-001-02 |
| BV-002-04 | パスワード | 登録済みパスワードの大文字小文字違い（例: "Password"） | ログイン不可（大文字小文字を区別する場合） | 🟡 | N-001-02 |
| BV-002-05 | パスワード | 登録済みパスワードの前後に空白（例: " password "） | 🟡 トリム処理の有無による | 🟡 | N-001-02 |
| BV-002-06 | パスワード | 特殊文字を含むパスワード（例: "pa55w0rd!"） | 正しいメールアドレスとの組み合わせでログイン可能 | 🟢 | M-001-04 |
| BV-002-07 | パスワード | ハイフンを含むパスワード（例: "pass-pass"） | 正しいメールアドレスとの組み合わせでログイン可能 | 🟢 | M-001-05 |

### BV-003: メールアドレスとパスワードの組み合わせ

| No | メールアドレス | パスワード | 期待結果 | 信頼性 | 関連動作仕様 |
|----|--------------|-----------|----------|--------|-------------|
| BV-003-01 | 登録済み（正） | 正しいパスワード | ログイン成功 | 🟢 | M-001-01 |
| BV-003-02 | 登録済み（正） | 誤ったパスワード | ログイン失敗 | 🟡 | N-001-02 |
| BV-003-03 | 未登録（誤） | 任意のパスワード | ログイン失敗 | 🟡 | N-001-01 |
| BV-003-04 | 空 | 空 | ログイン失敗 | 🟡 | N-001-03, N-001-04 |
| BV-003-05 | 登録済み（正） | 空 | ログイン失敗 | 🟡 | N-001-04 |
| BV-003-06 | 空 | 任意のパスワード | ログイン失敗 | 🟡 | N-001-03 |
| BV-003-07 | ユーザーAのアドレス | ユーザーBのパスワード | ログイン失敗（クロス認証） | 🟡 | N-001-02 |

### BV-004: テストユーザー別ログイン（会員ランク境界）

| No | ユーザー | 会員ランク | 期待結果 | 信頼性 | 関連動作仕様 |
|----|---------|-----------|----------|--------|-------------|
| BV-004-01 | ichiro@example.com / password | プレミアム会員 | ログイン成功、プレミアム会員として認識 | 🟢 | M-001-02, M-008-01 |
| BV-004-02 | sakura@example.com / pass1234 | 一般会員 | ログイン成功、一般会員として認識 | 🟢 | M-001-03, M-008-02 |
| BV-004-03 | jun@example.com / pa55w0rd! | プレミアム会員 | ログイン成功、プレミアム会員として認識 | 🟢 | M-001-04, M-008-01 |
| BV-004-04 | yoshiki@example.com / pass-pass | 一般会員 | ログイン成功、一般会員として認識 | 🟢 | M-001-05, M-008-02 |

---

## 同値分割

### EP-001: メールアドレスの同値クラス

| クラス | 説明 | 代表値 | 期待結果 | 信頼性 |
|--------|------|--------|----------|--------|
| 有効・登録済み | 登録済みの正しいメールアドレス | ichiro@example.com | ログイン可能（正しいPW時） | 🟢 |
| 有効・未登録 | メール形式は正しいが未登録 | test@example.com | ログイン不可 | 🟡 |
| 無効・形式不正 | メール形式として不正 | "abc", "@", "a@" | ログイン不可 | 🟡 |
| 無効・空 | 未入力 | （空文字） | ログイン不可 | 🟡 |

### EP-002: パスワードの同値クラス

| クラス | 説明 | 代表値 | 期待結果 | 信頼性 |
|--------|------|--------|----------|--------|
| 有効・一致 | 対応ユーザーの正しいパスワード | password | ログイン可能（正しいメール時） | 🟢 |
| 無効・不一致 | 存在するが対応しないパスワード | wrongpass | ログイン不可 | 🟡 |
| 無効・空 | 未入力 | （空文字） | ログイン不可 | 🟡 |

---

## 信号サマリー

| 信号 | 件数 | 内容 |
|------|------|------|
| 🟢 | 12 | 登録済みユーザー4名の正常ログイン、正しい認証ペアの成功、特殊文字・ハイフン含むPW、会員ランク識別 |
| 🟡 | 21 | 空入力チェック、形式不正チェック、未登録アドレス拒否、誤パスワード拒否、大文字小文字区別、空白トリム、クロス認証、同値クラス（未登録/形式不正/空/不一致） |
| 🔴 | 0 | - |

---

## 備考

- メールアドレスのバリデーション詳細（形式チェックの厳密さ、最大文字数等）は仕様書に明示的な記載がないため、🟡として扱う
- パスワードの大文字小文字区別、前後空白のトリム処理については仕様書に明示的な記載がないため、🟡として扱う
- ログイン試行回数制限（アカウントロック等）については動作仕様に記載がないため、境界値分析の対象外とした
