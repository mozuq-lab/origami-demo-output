# F-008 宿泊予約入力 テストケース

## 基本情報

| 項目 | 内容 |
|------|------|
| 機能ID | F-008 |
| 機能名 | 宿泊予約入力 |
| 入力ファイル | 01_機能詳細.md / 02_動作仕様.md / 03_境界値分析.md |

---

## テストケース一覧

### TC-008-01: ページタイトルの確認

| 項目 | 内容 |
|------|------|
| テストID | TC-008-01 |
| テスト種別 | 正常系 |
| 対応仕様 | M-001-01 |
| 信号 | 🟢 |

**Given（前提条件）:**

- プラン一覧から「このプランで予約」ボタンをクリックして reserve.html が新しいタブで開いている（例: ?plan-id=4）

**When（実行条件）:**

1. ページタイトルを確認する

**Then（期待結果）:**

- [ ] ページタイトルが「宿泊予約 | HOTEL PLANISPHERE - テスト自動化練習サイト」であること

---

### TC-008-02: ページ初期表示状態の確認

| 項目 | 内容 |
|------|------|
| テストID | TC-008-02 |
| テスト種別 | 正常系 |
| 対応仕様 | M-001-03, M-001-04, M-002-01, M-003-01, M-003-02 |
| 境界値 | BV-010-04 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4（素泊まり）を開いている

**When（実行条件）:**

1. ページ読み込み直後の各フィールドの初期値を確認する

**Then（期待結果）:**

- [ ] 宿泊日フィールドに本日の翌日が設定されていること
- [ ] 宿泊数フィールドの初期値が「1」であること
- [ ] 人数フィールドの初期値が「1」であること
- [ ] 朝食・昼チェックイン・観光プランのチェックボックスがすべて未チェックであること
- [ ] 連絡方法が「選択してください」のままであること
- [ ] メールアドレスフィールドがdisabledであること
- [ ] 電話番号フィールドがdisabledであること
- [ ] 合計金額が「-」と表示されること
- [ ] 「予約内容を確認する」ボタンがdisabledであること

---

### TC-008-03: プラン情報がフォームに反映されること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-03 |
| テスト種別 | 正常系 |
| 対応仕様 | M-001-02 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4（素泊まり、基本料金5,500円）を開いている

**When（実行条件）:**

1. ページに表示されるプラン情報を確認する

**Then（期待結果）:**

- [ ] プラン名「素泊まり」がページ上に表示されること
- [ ] 基本料金「5,500円」がページ上に表示されること

---

### TC-008-04: 宿泊日として翌日を選択できること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-04 |
| テスト種別 | 正常系 |
| 対応仕様 | M-002-02, M-002-03 |
| 境界値 | BV-001-02 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html を開いている

**When（実行条件）:**

1. 宿泊日フィールドをクリックしてカレンダーを開く
2. 本日の翌日を選択する

**Then（期待結果）:**

- [ ] 翌日の日付が選択できること（「yyyy/mm/dd」形式で入力されること）
- [ ] 合計金額が計算され数値で表示されること（「-」から変化すること）

---

### TC-008-05: 本日から3ヶ月以内の日付を選択できること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-05 |
| テスト種別 | 正常系 |
| 対応仕様 | M-002-03 |
| 境界値 | BV-001-03 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html を開いている

**When（実行条件）:**

1. 宿泊日フィールドをクリックしてカレンダーを開く
2. 本日から90日後の日付を選択する

**Then（期待結果）:**

- [ ] 90日後の日付が選択できること
- [ ] 合計金額が計算されて表示されること

---

### TC-008-06: 3ヶ月超の日付は選択できないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-008-06 |
| テスト種別 | 異常系（入力制限） |
| 対応仕様 | N-001-01 |
| 境界値 | BV-001-04 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html を開いている

**When（実行条件）:**

1. 宿泊日フィールドをクリックしてカレンダーを開く
2. 本日から91日後の日付を選択しようとする

**Then（期待結果）:**

- [ ] 91日後の日付がカレンダー上で選択不可（グレーアウト等）であること
- [ ] または選択してもバリデーションエラーが表示されること

---

### TC-008-07: 宿泊数の下限値（1泊）が有効であること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-07 |
| テスト種別 | 正常系 |
| 対応仕様 | M-003-03 |
| 境界値 | BV-002-02 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4（素泊まり）を開いている
- 宿泊日に有効な日付を入力済みである

**When（実行条件）:**

1. 宿泊数に「1」を入力する

**Then（期待結果）:**

- [ ] 宿泊数「1」が有効な値として受け付けられること
- [ ] 合計金額が「5,500 × 1 × 1 = 5,500円」として計算・表示されること

---

### TC-008-08: 宿泊数の上限値（素泊まり: 9泊）が有効であること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-08 |
| テスト種別 | 正常系 |
| 対応仕様 | M-003-03 |
| 境界値 | BV-002-03 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4（素泊まり、maxTerm=9）を開いている
- 宿泊日に有効な日付を入力済みである

**When（実行条件）:**

1. 宿泊数に「9」を入力する

**Then（期待結果）:**

- [ ] 宿泊数「9」が有効な値として受け付けられること
- [ ] 合計金額が「5,500 × 9 × 1 = 49,500円」として計算・表示されること

---

### TC-008-09: 宿泊数の上限超過（10泊）で送信できないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-008-09 |
| テスト種別 | 異常系（入力制限） |
| 対応仕様 | N-001-03 |
| 境界値 | BV-002-04 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4（素泊まり、maxTerm=9）を開いている
- 宿泊日・人数・氏名・連絡方法など他の必須項目が有効な状態

**When（実行条件）:**

1. 宿泊数に「10」を入力する
2. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] フォームが送信されないこと
- [ ] バリデーションエラーが表示されること

---

### TC-008-10: 人数の上限値（素泊まり: 2人）が有効であること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-10 |
| テスト種別 | 正常系 |
| 対応仕様 | M-003-04 |
| 境界値 | BV-004-03 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4（素泊まり、maxHeadCount=2）を開いている
- 宿泊日に有効な日付を入力済みである

**When（実行条件）:**

1. 人数に「2」を入力する

**Then（期待結果）:**

- [ ] 人数「2」が有効な値として受け付けられること
- [ ] 合計金額が「5,500 × 1 × 2 = 11,000円」として計算・表示されること

---

### TC-008-11: 人数の上限超過（素泊まり: 3人）で送信できないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-008-11 |
| テスト種別 | 異常系（入力制限） |
| 対応仕様 | N-001-05 |
| 境界値 | BV-004-04 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4（素泊まり、maxHeadCount=2）を開いている
- 他の必須項目が有効な状態

**When（実行条件）:**

1. 人数に「3」を入力する
2. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] フォームが送信されないこと
- [ ] バリデーションエラーが表示されること

---

### TC-008-12: カップル限定プランの人数は2人のみ有効であること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-12 |
| テスト種別 | 異常系（プラン制約） |
| 対応仕様 | M-003-04, N-001-06 |
| 境界値 | BV-005-03, BV-005-04 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=8（カップル限定プラン、minHeadCount=maxHeadCount=2）を開いている

**When（実行条件）:**

1. 人数に「1」を入力して送信を試みる
2. 次に人数に「2」を入力する

**Then（期待結果）:**

- [ ] 人数「1」では送信できないこと（minHeadCount=2のため）
- [ ] 人数「2」では有効として処理されること（合計金額が計算されること）

---

### TC-008-13: 貸し切り露天風呂プランの宿泊数上限（3泊）の確認

| 項目 | 内容 |
|------|------|
| テストID | TC-008-13 |
| テスト種別 | 正常系・異常系（プラン制約） |
| 対応仕様 | M-003-03, N-001-03 |
| 境界値 | BV-003-01, BV-003-02 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=7（貸し切り露天風呂プラン、maxTerm=3）を開いている

**When（実行条件）:**

1. 宿泊数に「3」を入力する（上限値）
2. 次に宿泊数に「4」を入力して送信を試みる（上限超過）

**Then（期待結果）:**

- [ ] 宿泊数「3」は有効であること
- [ ] 宿泊数「4」では送信できないこと

---

### TC-008-14: オプション未選択での合計金額計算

| 項目 | 内容 |
|------|------|
| テストID | TC-008-14 |
| テスト種別 | 正常系 |
| 対応仕様 | M-005-01, M-004-05 |
| 境界値 | BV-009-01, BV-010-02 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4（素泊まり、5,500円/人/泊）を開いている

**When（実行条件）:**

1. 宿泊日に有効な日付を入力する
2. 宿泊数を「2」、人数を「2」に設定する
3. オプションはすべて選択しない

**Then（期待結果）:**

- [ ] 合計金額が「5,500 × 2 × 2 = 22,000円」と表示されること

---

### TC-008-15: 全オプション選択での合計金額計算

| 項目 | 内容 |
|------|------|
| テストID | TC-008-15 |
| テスト種別 | 正常系 |
| 対応仕様 | M-005-01, M-005-02, M-004-03, M-004-04 |
| 境界値 | BV-009-04 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4（素泊まり、5,500円/人/泊）を開いている

**When（実行条件）:**

1. 宿泊日に有効な日付を入力する
2. 宿泊数を「2」、人数を「2」に設定する
3. 朝食バイキング・昼からチェックインプラン・お得な観光プランをすべて選択する

**Then（期待結果）:**

- [ ] 合計金額が「(5,500 × 2 × 2) + (3 × 1,000 × 2 × 2) = 22,000 + 12,000 = 34,000円」と表示されること

---

### TC-008-16: オプション変更時に合計金額がリアルタイム再計算されること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-16 |
| テスト種別 | 正常系 |
| 対応仕様 | M-004-03, M-005-02 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、宿泊日・宿泊数・人数が入力されている

**When（実行条件）:**

1. 朝食バイキングのチェックボックスをチェックする
2. 合計金額を確認する
3. さらに観光プランのチェックボックスをチェックする
4. 合計金額を再度確認する

**Then（期待結果）:**

- [ ] チェックボックス操作のたびに合計金額が自動再計算されること
- [ ] オプション1つ追加のたびに「1,000円 × 宿泊数 × 人数」分増加すること

---

### TC-008-17: 連絡方法「希望しない」選択時に送信できること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-17 |
| テスト種別 | 正常系 |
| 対応仕様 | M-007-02, M-007-05 |
| 境界値 | BV-008-02 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、宿泊日・宿泊数・人数・氏名を有効な値で入力済み

**When（実行条件）:**

1. 連絡方法で「希望しない」を選択する
2. メールアドレス・電話番号フィールドの状態を確認する
3. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] メールアドレスフィールドがdisabledのままであること
- [ ] 電話番号フィールドがdisabledのままであること
- [ ] フォームが送信されてconfirm.htmlに遷移すること

---

### TC-008-18: 連絡方法「メール」選択時のフィールド有効化

| 項目 | 内容 |
|------|------|
| テストID | TC-008-18 |
| テスト種別 | 正常系 |
| 対応仕様 | M-007-03, M-008-01, M-008-02 |
| 境界値 | BV-008-03 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いている

**When（実行条件）:**

1. 連絡方法で「メールでのご連絡」を選択する

**Then（期待結果）:**

- [ ] メールアドレスフィールドがenabled（入力可能）になること
- [ ] 電話番号フィールドがdisabledのままであること

---

### TC-008-19: メールアドレス未入力（contact=email）で送信できないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-008-19 |
| テスト種別 | 異常系（必須チェック） |
| 対応仕様 | N-001-09 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、宿泊日・宿泊数・人数・氏名を有効な値で入力済み
- 連絡方法で「メールでのご連絡」を選択している

**When（実行条件）:**

1. メールアドレスフィールドを空欄のままにする
2. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] フォームが送信されないこと
- [ ] メールアドレス欄にバリデーションエラーが表示されること

---

### TC-008-20: 無効なメールアドレス形式で送信できないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-008-20 |
| テスト種別 | 異常系（形式チェック） |
| 対応仕様 | M-008-03 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、他の必須項目が有効な状態
- 連絡方法で「メールでのご連絡」を選択している

**When（実行条件）:**

1. メールアドレスフィールドに「invalid-email」（@なし）を入力する
2. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] フォームが送信されないこと
- [ ] メールアドレス形式エラーが表示されること

---

### TC-008-21: 連絡方法「電話」選択時のフィールド有効化

| 項目 | 内容 |
|------|------|
| テストID | TC-008-21 |
| テスト種別 | 正常系 |
| 対応仕様 | M-007-04, M-009-01, M-009-02 |
| 境界値 | BV-008-04 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いている

**When（実行条件）:**

1. 連絡方法で「電話でのご連絡」を選択する

**Then（期待結果）:**

- [ ] 電話番号フィールドがenabled（入力可能）になること
- [ ] メールアドレスフィールドがdisabledのままであること

---

### TC-008-22: 電話番号11桁（有効）で送信できること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-22 |
| テスト種別 | 正常系 |
| 対応仕様 | M-009-03 |
| 境界値 | BV-007-02 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、他の必須項目が有効な状態
- 連絡方法で「電話でのご連絡」を選択している

**When（実行条件）:**

1. 電話番号フィールドに「09012345678」（11桁の数字）を入力する
2. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] フォームが送信されてconfirm.htmlに遷移すること

---

### TC-008-23: 電話番号10桁（11桁未満）で送信できないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-008-23 |
| テスト種別 | 異常系（桁数チェック） |
| 対応仕様 | N-001-11 |
| 境界値 | BV-007-01 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、他の必須項目が有効な状態
- 連絡方法で「電話でのご連絡」を選択している

**When（実行条件）:**

1. 電話番号フィールドに「0901234567」（10桁）を入力する
2. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] フォームが送信されないこと
- [ ] バリデーションエラーが表示されること

---

### TC-008-24: 電話番号12桁（11桁超過）で送信できないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-008-24 |
| テスト種別 | 異常系（桁数チェック） |
| 対応仕様 | N-001-11 |
| 境界値 | BV-007-03 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、他の必須項目が有効な状態
- 連絡方法で「電話でのご連絡」を選択している

**When（実行条件）:**

1. 電話番号フィールドに「090123456789」（12桁）を入力する
2. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] フォームが送信されないこと
- [ ] バリデーションエラーが表示されること

---

### TC-008-25: 電話番号に数字以外が含まれる場合、送信できないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-008-25 |
| テスト種別 | 異常系（文字種チェック） |
| 対応仕様 | N-001-12 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、他の必須項目が有効な状態
- 連絡方法で「電話でのご連絡」を選択している

**When（実行条件）:**

1. 電話番号フィールドに「090-1234-567」（ハイフン含む）を入力する
2. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] フォームが送信されないこと
- [ ] バリデーションエラーが表示されること（数字以外の文字が含まれるため）

---

### TC-008-26: 氏名未入力で送信できないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-008-26 |
| テスト種別 | 異常系（必須チェック） |
| 対応仕様 | N-001-07 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、宿泊日・宿泊数・人数・連絡方法は有効な状態

**When（実行条件）:**

1. 氏名フィールドを空欄のままにする
2. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] フォームが送信されないこと
- [ ] 氏名フィールドにバリデーションエラーが表示されること

---

### TC-008-27: 連絡方法「選択してください」のまま送信できないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-008-27 |
| テスト種別 | 異常系（必須チェック） |
| 対応仕様 | N-001-08 |
| 境界値 | BV-008-01 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、宿泊日・宿泊数・人数・氏名は有効な状態

**When（実行条件）:**

1. 連絡方法を「選択してください」のままにする
2. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] フォームが送信されないこと
- [ ] 連絡方法フィールドにバリデーションエラーが表示されること

---

### TC-008-28: ご要望140文字まで入力できること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-28 |
| テスト種別 | 正常系（境界値） |
| 対応仕様 | M-010-02 |
| 境界値 | BV-006-03 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いている

**When（実行条件）:**

1. ご要望フィールドに140文字のテキストを入力する（例: 「あ」を140個）

**Then（期待結果）:**

- [ ] 140文字が正常に入力されること

---

### TC-008-29: ご要望141文字目が入力されないこと

| 項目 | 内容 |
|------|------|
| テストID | TC-008-29 |
| テスト種別 | 異常系（文字数制限） |
| 対応仕様 | M-010-02 |
| 境界値 | BV-006-04 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いている

**When（実行条件）:**

1. ご要望フィールドに141文字以上のテキストをペーストまたは入力する

**Then（期待結果）:**

- [ ] フィールドに実際に入力されるのが140文字までであること（141文字目以降が切り捨てられること）

---

### TC-008-30: ご要望省略（空欄）でも送信できること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-30 |
| テスト種別 | 正常系 |
| 対応仕様 | M-010-01 |
| 境界値 | BV-006-01 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、宿泊日・宿泊数・人数・氏名・連絡方法がすべて有効な状態

**When（実行条件）:**

1. ご要望・ご連絡事項フィールドを空欄のままにする
2. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] フォームが送信されてconfirm.htmlに遷移すること

---

### TC-008-31: フォーム全入力完了後に送信ボタンが有効化されること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-31 |
| テスト種別 | 正常系 |
| 対応仕様 | M-011-01 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、全フィールドが初期状態（送信ボタンdisabled）

**When（実行条件）:**

1. 宿泊日に有効な日付を入力する
2. 宿泊数「1」・人数「1」を確認する
3. 氏名に「山田太郎」を入力する
4. 連絡方法で「希望しない」を選択する

**Then（期待結果）:**

- [ ] 「予約内容を確認する」ボタンがenabled（クリック可能）になること

---

### TC-008-32: 送信後にconfirm.htmlへ遷移すること

| 項目 | 内容 |
|------|------|
| テストID | TC-008-32 |
| テスト種別 | 正常系 |
| 対応仕様 | M-012-04 |
| 信号 | 🟢 |

**Given（前提条件）:**

- reserve.html?plan-id=4 を開いており、全必須項目を有効な値で入力済み
  - 宿泊日: 翌日、宿泊数: 1、人数: 1、氏名: 山田太郎、連絡方法: 希望しない

**When（実行条件）:**

1. 「予約内容を確認する」ボタンをクリックする

**Then（期待結果）:**

- [ ] confirm.html（同一タブ）に遷移すること
- [ ] URLが confirm.html のページであること

---

## 信号サマリー

| 信号 | 件数 | 内容 |
|------|------|------|
| 🟢 | 32 | 全テストケース（ページタイトル、初期表示、プラン反映、宿泊日境界値2件、宿泊数境界値3件、プラン別宿泊数2件、人数境界値2件、カップル限定制約、貸し切り露天風呂制約、合計金額計算3件、連絡方法4パターン、メール未入力・形式、電話有効・10桁・12桁・ハイフン、氏名必須、連絡方法未選択、ご要望140文字・141文字・省略、送信ボタン有効化、confirm遷移） |
| 🟡 | 0 | - |
| 🔴 | 0 | - |

---

## テストケース数

**合計: 32件（🟢: 32件 / 🟡: 0件 / 🔴: 0件）**
