# F-002 ログアウト 境界値分析

## 基本情報

| 項目 | 内容 |
|------|------|
| 機能ID | F-002 |
| 機能名 | ログアウト |
| 入力ファイル | 02_動作仕様.md |

---

## 境界値分析対象パラメータ

### BV-001: ログイン状態（ログアウト操作の前提条件）

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-001-01 | ログイン状態 | ログイン済み（プレミアム会員） | ログアウト可能、ログアウトリンク表示 | 🟢 | M-001-01, M-005-01 |
| BV-001-02 | ログイン状態 | ログイン済み（一般会員） | ログアウト可能、ログアウトリンク表示 | 🟢 | M-001-01, M-005-02 |
| BV-001-03 | ログイン状態 | 未ログイン | ログアウトリンク非表示 | 🟢 | N-001-01 |

### BV-002: ログアウト実行回数

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-002-01 | ログアウト回数 | 1回目のログアウト | 正常にログアウトされること | 🟢 | M-002-01 |
| BV-002-02 | ログアウト回数 | ログアウト後に再度ログアウトURL直接アクセス | エラーにならないこと | 🟡 | M-002-03 |

### BV-003: ログイン→ログアウト→再ログインサイクル

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-003-01 | サイクル | ログイン→ログアウト→再ログイン | 再ログインが正常に動作すること | 🟡 | M-002-01, M-002-02 |
| BV-003-02 | サイクル | 異なるユーザーでログイン→ログアウト→別ユーザーでログイン | 別ユーザーとして正しく認識されること | 🟡 | M-002-02, M-005-01, M-005-02 |

### BV-004: ログアウト後のCookie状態

| No | パラメータ | 境界値 | 期待結果 | 信頼性 | 関連動作仕様 |
|----|-----------|--------|----------|--------|-------------|
| BV-004-01 | Cookie | ログアウト直後のCookie | 認証Cookieがクリアされていること | 🟢 | M-002-02, N-003-01 |
| BV-004-02 | Cookie | ログアウト後にページ遷移した場合のCookie | 認証Cookieが復活しないこと | 🟡 | N-003-01, N-003-02 |

---

## 同値分割

### EP-001: ログイン状態の同値クラス

| クラス | 説明 | 代表値 | 期待結果 | 信頼性 |
|--------|------|--------|----------|--------|
| ログイン済み | 有効な認証Cookieが存在 | プレミアム会員でログイン済み | ログアウトリンク表示、ログアウト可能 | 🟢 |
| 未ログイン | 認証Cookieなし | 初回アクセス状態 | ログアウトリンク非表示 | 🟢 |

### EP-002: ユーザータイプの同値クラス

| クラス | 説明 | 代表値 | 期待結果 | 信頼性 |
|--------|------|--------|----------|--------|
| プレミアム会員 | プレミアム会員でログイン中 | ichiro@example.com | ログアウト可能 | 🟢 |
| 一般会員 | 一般会員でログイン中 | sakura@example.com | ログアウト可能 | 🟢 |

---

## 信号サマリー

| 信号 | 件数 | 内容 |
|------|------|------|
| 🟢 | 9 | ログイン状態別のログアウト可否、Cookie クリア確認、同値クラス |
| 🟡 | 4 | ログアウト後の再ログアウト、再ログインサイクル、異ユーザー切替、Cookie復活しないこと |
| 🔴 | 0 | - |

---

## 備考

- ログアウト機能は入力パラメータが少なく（リンクのクリックのみ）、境界値分析の対象は主にログイン状態の前提条件と状態遷移に集中する
- セッション管理やCookieクリアの挙動は仕様書に詳細な記載がないため、🟡として扱う項目が多い
