# F-002 ログアウト テストケース

## 基本情報

| 項目 | 内容 |
|------|------|
| 機能ID | F-002 |
| 機能名 | ログアウト |
| 入力ファイル | 01_機能詳細.md, 02_動作仕様.md, 03_境界値分析.md |

---

## テストケース一覧

### 1. ログアウトリンク表示

#### TC-002-01: ログイン状態でナビゲーションに「ログアウト」リンクが表示されること

| 項目 | 内容 |
|------|------|
| テストケースID | TC-002-01 |
| テスト観点 | ログアウトリンクの表示 |
| 事前条件 | 登録済みユーザーでログイン済み |
| 手順 | 1. 登録済みユーザーでログインする 2. ナビゲーションメニューを確認する |
| 期待結果 | ナビゲーションに「ログアウト」リンクが表示されること |
| 信頼性 | 🟢 |
| 関連 | M-001-01, BV-001-01 |

#### TC-002-02: 未ログイン時にナビゲーションに「ログアウト」リンクが表示されないこと

| 項目 | 内容 |
|------|------|
| テストケースID | TC-002-02 |
| テスト観点 | ログアウトリンクの非表示 |
| 事前条件 | 未ログイン状態 |
| 手順 | 1. ログインせずにトップページにアクセスする 2. ナビゲーションメニューを確認する |
| 期待結果 | ナビゲーションに「ログアウト」リンクが表示されないこと |
| 信頼性 | 🟢 |
| 関連 | N-001-01, BV-001-03 |

---

### 2. ログアウト実行（正常系）

#### TC-002-03: プレミアム会員でログアウトできること

| 項目 | 内容 |
|------|------|
| テストケースID | TC-002-03 |
| テスト観点 | 正常ログアウト（プレミアム会員） |
| 事前条件 | ichiro@example.com / password でログイン済み |
| 手順 | 1. ナビゲーションの「ログアウト」リンクをクリックする |
| 期待結果 | ログアウトが実行され、未ログイン状態になること |
| 信頼性 | 🟢 |
| 関連 | M-002-01, M-005-01, BV-001-01 |

#### TC-002-04: 一般会員でログアウトできること

| 項目 | 内容 |
|------|------|
| テストケースID | TC-002-04 |
| テスト観点 | 正常ログアウト（一般会員） |
| 事前条件 | sakura@example.com / pass1234 でログイン済み |
| 手順 | 1. ナビゲーションの「ログアウト」リンクをクリックする |
| 期待結果 | ログアウトが実行され、未ログイン状態になること |
| 信頼性 | 🟢 |
| 関連 | M-002-01, M-005-02, BV-001-02 |

---

### 3. ログアウト後のナビゲーション表示

#### TC-002-05: ログアウト後にナビゲーションに「ホーム」「宿泊予約」「会員登録」「ログイン」が表示されること

| 項目 | 内容 |
|------|------|
| テストケースID | TC-002-05 |
| テスト観点 | ログアウト後ナビゲーション表示 |
| 事前条件 | ログイン済み状態 |
| 手順 | 1. 登録済みユーザーでログインする 2. ナビゲーションの「ログアウト」リンクをクリックする 3. ナビゲーションメニューを確認する |
| 期待結果 | ナビゲーションに「ホーム」「宿泊予約」「会員登録」「ログイン」が表示されること |
| 信頼性 | 🟢 |
| 関連 | M-003-01, M-003-02, M-003-03, M-003-04 |

#### TC-002-06: ログアウト後にナビゲーションに「マイページ」「ログアウト」が表示されないこと

| 項目 | 内容 |
|------|------|
| テストケースID | TC-002-06 |
| テスト観点 | ログアウト後ナビゲーション非表示 |
| 事前条件 | ログイン済み状態 |
| 手順 | 1. 登録済みユーザーでログインする 2. ナビゲーションの「ログアウト」リンクをクリックする 3. ナビゲーションメニューを確認する |
| 期待結果 | ナビゲーションに「マイページ」「ログアウト」が表示されないこと |
| 信頼性 | 🟢 |
| 関連 | N-002-01, N-002-02 |

---

### 4. ログアウト後の画面遷移

#### TC-002-07: ログアウト後にトップページまたは適切なページに遷移すること

| 項目 | 内容 |
|------|------|
| テストケースID | TC-002-07 |
| テスト観点 | ログアウト後の遷移先 |
| 事前条件 | ログイン済み状態 |
| 手順 | 1. 登録済みユーザーでログインする 2. ナビゲーションの「ログアウト」リンクをクリックする 3. 遷移先のページを確認する |
| 期待結果 | トップページまたは適切なページに遷移すること |
| 信頼性 | 🟡 |
| 関連 | M-004-01 |

---

### 5. Cookie・セッション管理

#### TC-002-08: ログアウト後に認証Cookieがクリアされること

| 項目 | 内容 |
|------|------|
| テストケースID | TC-002-08 |
| テスト観点 | Cookieクリア |
| 事前条件 | ログイン済み状態 |
| 手順 | 1. 登録済みユーザーでログインする 2. ナビゲーションの「ログアウト」リンクをクリックする 3. ブラウザのCookieを確認する |
| 期待結果 | 認証に関するCookieがクリアされていること |
| 信頼性 | 🟢 |
| 関連 | M-002-02, N-003-01, BV-004-01 |

#### TC-002-09: ログアウト後にページ遷移してもログイン状態が復活しないこと

| 項目 | 内容 |
|------|------|
| テストケースID | TC-002-09 |
| テスト観点 | セッション残留防止 |
| 事前条件 | ログイン済み状態 |
| 手順 | 1. 登録済みユーザーでログインする 2. ナビゲーションの「ログアウト」リンクをクリックする 3. 複数のページに遷移する 4. ナビゲーションメニューを確認する |
| 期待結果 | すべてのページで未ログイン状態のナビゲーションが表示されること |
| 信頼性 | 🟢 |
| 関連 | N-003-02, BV-004-02 |

---

### 6. ログイン→ログアウト→再ログインサイクル

#### TC-002-10: ログアウト後に再ログインできること

| 項目 | 内容 |
|------|------|
| テストケースID | TC-002-10 |
| テスト観点 | 再ログインサイクル |
| 事前条件 | 未ログイン状態 |
| 手順 | 1. ichiro@example.com / password でログインする 2. ナビゲーションの「ログアウト」リンクをクリックする 3. 再度ログインページにアクセスする 4. ichiro@example.com / password でログインする |
| 期待結果 | 再ログインに成功し、ログイン状態になること |
| 信頼性 | 🟡 |
| 関連 | BV-003-01 |

#### TC-002-11: ログアウト後に別のユーザーでログインできること

| 項目 | 内容 |
|------|------|
| テストケースID | TC-002-11 |
| テスト観点 | ユーザー切替 |
| 事前条件 | 未ログイン状態 |
| 手順 | 1. ichiro@example.com / password でログインする（プレミアム会員） 2. ナビゲーションの「ログアウト」リンクをクリックする 3. sakura@example.com / pass1234 でログインする（一般会員） 4. マイページにアクセスして会員情報を確認する |
| 期待結果 | sakura（一般会員）として正しく認識されること（ichiroの情報が残っていないこと） |
| 信頼性 | 🟡 |
| 関連 | BV-003-02 |

---

## テストケースサマリー

| カテゴリ | テストケース数 | 🟢 | 🟡 | 🔴 |
|---------|--------------|-----|-----|-----|
| ログアウトリンク表示 | 2 | 2 | 0 | 0 |
| ログアウト実行（正常系） | 2 | 2 | 0 | 0 |
| ログアウト後のナビゲーション表示 | 2 | 2 | 0 | 0 |
| ログアウト後の画面遷移 | 1 | 0 | 1 | 0 |
| Cookie・セッション管理 | 2 | 2 | 0 | 0 |
| ログイン→ログアウト→再ログインサイクル | 2 | 0 | 2 | 0 |
| **合計** | **11** | **8** | **3** | **0** |

---

## 信号サマリー

| 信号 | 件数 | 内容 |
|------|------|------|
| 🟢 | 8 | ログアウトリンク表示/非表示、プレミアム/一般会員でのログアウト、ナビゲーション表示/非表示、Cookieクリア、セッション残留防止 |
| 🟡 | 3 | ログアウト後の遷移先、再ログインサイクル、ユーザー切替 |
| 🔴 | 0 | - |
